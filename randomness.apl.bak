#!/usr/local/bin/apl --script

 ⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝
⍝
⍝ acicpas/randomness 2016-01-31 13:13:03 (GMT+8)
⍝
 ⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝

∇r ← p Nv x ;m;v;a;b
 m ← ↑p
 v ← ↑1↓p
 a ← (v - 1) ÷ m
 b ← v ÷ m
 r ← +/ (a < x) ∧ (x < b)
∇

∇R ← avg x
 R ← (+/ x) ÷ ⍴ x
∇

∇r ← ev x ;var;sum
 var ← (x - avg x) * 2
 sum ← +/ var
 r ← sum ÷ ⍴ x
∇

∇v ← n firstseries x ; i
 i ← 1
 v ← ,x
 h: → (i = n) / 0
 i ← i + 1
 x ← 0.5 + 4 × (x - 0.5) * 3
 v ← v,x
 → h
∇

⎕CT←1E¯13

⎕FC←6⍴(,⎕UCS 46 44 8902 48 95 175)

⎕IO←1

⎕L←0

⎕LX←' '
  ⎕LX←0⍴⎕LX

⎕PP←10

⎕PR←' '

⎕PS←0

⎕PW←80

⎕R←0

⎕RL←16807

⎕TZ←8

⎕X←0

